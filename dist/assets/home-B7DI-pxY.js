import{A as d,a as h}from"./constants-rqNHC8Ty.js";import{s as p}from"./logout-BT9Uwq4k.js";import{i as f}from"./navigation-BhUJQ3dQ.js";import{l as n,i as L}from"./backToTop-DAeQEe0B.js";import{r as c}from"./read-CWUqBtRO.js";import{r as y,i as T,a as g,o as S}from"./comment-qcdxX0L5.js";import{h as E}from"./headers-B8g_0KXq.js";function P(u,e,l=null){let t="";u.addEventListener("input",async m=>{if(t=m.target.value.trim(),!t){e.innerHTML="",n(e,c,l);return}try{const r=`${d}/search?q=${encodeURIComponent(t)}&_author=true`,s=await fetch(r,{method:"GET",headers:E()});if(!s.ok)throw new Error("Failed to fetch search results");const o=await s.json(),i=Array.isArray(o.data)?o.data:[o.data];if(!i.length){e.innerHTML="<p>No posts found matching your search.</p>";return}e.innerHTML="",y(e,i)}catch(r){console.error("Search Error:",r),e.innerHTML=`<p>Error loading search results: ${r.message}</p>`}})}h();f();p();const a=document.querySelector("#feed-container"),z=document.querySelector("#search-input");n(a,c).then(()=>{T(),g()});P(z,a);L();a.addEventListener("click",S);
