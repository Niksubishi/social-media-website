import{r as g}from"./comment-NGB9Di3-.js";function L(){localStorage.removeItem("token"),localStorage.removeItem("username")}async function h(){document.querySelector("#logout-btn").addEventListener("click",()=>{L(),window.location.href="/auth/login/"})}async function b(t,r,d,e={}){let o=e.page||1;const m=e.limit||12;let s=e.tag||"all",u=e.searchQuery||null;async function l(){try{const i=await r(m,o,s==="all"?null:s,e.username,u),c=Array.isArray(i.data)?i.data:[i.data];if(!c||c.length===0){o===1&&(t.innerHTML="<p>No posts available yet.</p>");return}g(t,c),o++}catch(a){console.error("Error loading posts:",a),o===1&&(t.innerHTML=`<p>Error loading posts: ${a.message}</p>`)}}const n=document.querySelector(".load-more-btn")||document.createElement("button");n.textContent="Load More",n.classList.add("load-more-btn"),n.removeEventListener("click",l),n.addEventListener("click",l),t.nextElementSibling?.classList.contains("load-more-btn")||t.insertAdjacentElement("afterend",n),d&&d.addEventListener("change",a=>{s=a.target.value,o=1,u=null,t.innerHTML="",l()}),await l()}function v(){const t=document.createElement("button");t.id="back-to-top",t.textContent="â†‘ Back to Top",t.classList.add("hidden"),document.body.appendChild(t);function r(){window.scrollY>1500?t.classList.add("show"):t.classList.remove("show")}window.addEventListener("scroll",r),t.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),r()}export{v as i,b as l,h as s};
