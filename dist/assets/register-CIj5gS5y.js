import{b as l}from"./constants-Dyo2zk30.js";async function g({name:s,email:t,password:a,bio:i,avatar:c,banner:o}){try{const r=await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s,email:t,password:a,bio:i,avatar:c,banner:o})}),e=await r.json();if(!r.ok){let n="Failed to register";throw e.errors&&Array.isArray(e.errors)&&e.errors[0]?.message?n=e.errors[0].message:e.error&&typeof e.error=="string"?n=e.error:e.message?n=e.message:console.error("Unexpected error structure:",e),new Error(n)}return e}catch(r){throw console.error("Error in register:",r),r}}async function f(s){s.preventDefault();const t=s.target,a=t.name.value,i=t.email.value,c=t.password.value,o=t.querySelector("button");try{o.disabled=!0,o.textContent="Registering...";const r=await g({name:a,email:i,password:c});alert("Registration successful!"),window.location.href="/auth/login/"}catch(r){console.error("Registration failed:",r),alert("Registration failed. Please try again.")}finally{o.disabled=!1,o.textContent="Register"}}const u=document.forms.register;u.addEventListener("submit",f);
