import{r as g}from"./comment-DLp56io5.js";function h(){localStorage.removeItem("token"),localStorage.removeItem("username")}async function b(){document.querySelector("#logout-btn").addEventListener("click",()=>{h(),window.location.href="/auth/login/"})}async function f(t,r,d,e={}){let o=e.page||1;const m=e.limit||12;let s=e.tag||"all",u=e.searchQuery||null;async function l(){try{const c=await r(m,o,s==="all"?null:s,e.username,u),i=Array.isArray(c.data)?c.data:[c.data];if(!i||i.length===0){o===1&&(t.innerHTML="<p>No posts available yet.</p>");return}g(t,i),o++}catch(a){console.error("Error loading posts:",a),o===1&&(t.innerHTML=`<p>Error loading posts: ${a.message}</p>`)}}const n=document.querySelector(".load-more-btn")||document.createElement("button");n.textContent="Load More",n.classList.add("load-more-btn","px-6","py-2","rounded-full","bg-[#2a2a2a]","text-white","shadow-card","hover:bg-gray-800","mx-auto","block","mt-2","mb-16"),n.removeEventListener("click",l),n.addEventListener("click",l),t.nextElementSibling?.classList.contains("load-more-btn")||t.insertAdjacentElement("afterend",n),d&&d.addEventListener("change",a=>{s=a.target.value,o=1,u=null,t.innerHTML="",l()}),await l()}function y(){const t=document.createElement("button");t.id="back-to-top",t.textContent="â†‘ Back to Top",t.classList.add("hidden"),document.body.appendChild(t);function r(){window.scrollY>1500?t.classList.add("show"):t.classList.remove("show")}window.addEventListener("scroll",r),t.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),r()}export{y as i,f as l,b as s};
